# =============================================================================
# Beam Verifier Service Configuration
# =============================================================================

# =============================================================================
# Environment Configuration
# =============================================================================
# Options: development, staging, production
NODE_ENV=development

# Server port
PORT=3000

# Enable development mode (allows unsigned attestations and default keys)
# MUST be false in production
DEV_MODE=true

# =============================================================================
# Solana Network Configuration
# =============================================================================
# Network: devnet, mainnet-beta, localnet
SOLANA_NETWORK=devnet

# Primary RPC endpoint
# For production, use a dedicated provider:
# - Helius: https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY
# - QuickNode: https://your-endpoint.solana-mainnet.quiknode.pro/YOUR_TOKEN/
# - Triton: https://your-endpoint.rpcpool.com/YOUR_TOKEN
# - Alchemy: https://solana-mainnet.g.alchemy.com/v2/YOUR_API_KEY
SOLANA_RPC_URL=https://api.devnet.solana.com

# Fallback RPC endpoints (comma-separated)
# SOLANA_FALLBACK_RPCS=https://api.mainnet-beta.solana.com,https://rpc.ankr.com/solana

# =============================================================================
# Verifier Signing Key (Ed25519)
# =============================================================================
# Generate a secure key for production:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Or use: openssl rand -hex 32
#
# IMPORTANT: Keep this secret and secure!
VERIFIER_SIGNING_KEY=

# =============================================================================
# Play Integrity API Configuration
# =============================================================================

# Expected Android package name for your app
VERIFIER_EXPECTED_PACKAGE_NAME=com.beam.app

# Allowed APK certificate SHA-256 digests (comma-separated)
# Get these using: keytool -list -v -keystore your-keystore.jks
# Example: VERIFIER_ALLOWED_DIGESTS=ABC123...,DEF456...
VERIFIER_ALLOWED_DIGESTS=

# Play Integrity API public keys for JWT verification
# Path to PEM file containing Google's public keys
VERIFIER_CERT_PEM_PATH=

# Or inline PEM certificate(s)
VERIFIER_CERT_PEM=

# JWKS configuration
VERIFIER_JWKS_URL=https://www.googleapis.com/androidcheck/v1/attestation/publicKey
VERIFIER_JWKS_PATH=
VERIFIER_ALLOW_FETCH=true

# Allow unsigned attestations (development only - MUST be false in production)
VERIFIER_ALLOW_UNSIGNED=false

# =============================================================================
# Rate Limiting & Performance
# =============================================================================
# Maximum requests per minute per IP
MAX_REQUESTS_PER_MINUTE=100

# Request timeout in milliseconds
REQUEST_TIMEOUT_MS=30000

# =============================================================================
# CORS Configuration
# =============================================================================
# Allowed origins (comma-separated)
# Use * for development, specific origins for production
# Example: ALLOWED_ORIGINS=https://app.yourdomain.com,https://admin.yourdomain.com
ALLOWED_ORIGINS=*

# =============================================================================
# Logging Configuration
# =============================================================================
# Enable verbose logging
VERBOSE_LOGGING=false

# =============================================================================
# Legacy Configuration (for Key Attestation)
# =============================================================================
# For production Key Attestation verification
GOOGLE_APPLICATION_CREDENTIALS=
